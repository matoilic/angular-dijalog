!function(){function e(e,t,n,i){this.$compile=e,this.$templateRequest=t,this.$q=n,this.$defaultScope=i}function t(){this.setTheme=function(e){i=e},this.$get=["$compile","$templateRequest","$q","$rootScope",function(t,n,i,o){return new e(t,n,i,o)}]}var n,i="dijalog-theme-default";e.prototype={alert:function(e,t){e&&e.substr&&(e={message:e}),this._dijalog("alert",e,t||this.$defaultScope)},close:function(e){n.close(e)},confirm:function(e,t){this._dijalog("confirm",e,t||this.$defaultScope)},_createButton:function(e,t,i){var o=n.defaultDialogOptions.buttons[e?0:1];return n.helpers.assign({},o,{text:t},i||{})},createNoButton:function(e,t){return this._createButton(!1,e,t)},createYesButton:function(e,t){return this._createButton(!0,e,t)},prompt:function(e,t){this._dijalog("prompt",e,t||this.$defaultScope)},_renderTemplate:function(e,t,n){var i=this.$q.defer(),o=this;return this.$templateRequest(e,!1).then(function(e){i.resolve(o._renderTemplateString(e,t,n))}),i.promise},_renderTemplateString:function(e,t,i){var o=this.$compile(e),s=t.$new();return s=n.helpers.assign(s,i||{}),{node:o(s)[0],scope:s}},_dijalog:function(e,t,o){var s,a=t.afterClose,r=this.$q.defer(),p=[],l=[r.promise];t.className=(t.className||"")+" "+i,t.messageTemplate?l.push(this._renderTemplate(t.messageTemplate,o,t.messageTemplateVariables).then(function(e){t.message=e.node,p.push(e.scope)})):t.messageTemplateString&&(s=this._renderTemplateString(t.messageTemplateString,o,t.messageTemplateVariables),t.message=s.node,p.push(s.scope)),t.inputTemplate?l.push(this._renderTemplate(t.inputTemplate,o,t.inputTemplateVariables).then(function(e){t.input=e.node,p.push(e.scope)})):t.inputTemplateString&&(s=this._renderTemplateString(t.inputTemplateString,o,t.inputTemplateVariables),t.input=s.node,p.push(s.scope)),this.$q.all(l).then(function(){t.afterClose=function(){p.forEach(function(e){e.$destroy()}),a&&a.apply()},n[e](t)}),r.resolve()}};var o=angular.module("dijalog",[]).provider("dijalog",[t]);"function"==typeof define&&define.amd?define(["dijalog"],function(e){return n=e,o}):"object"==typeof exports?(n=require("dijalog"),module.exports=o):n=window.dijalog}();
//# sourceMappingURL=angular-dijalog.min.js.map